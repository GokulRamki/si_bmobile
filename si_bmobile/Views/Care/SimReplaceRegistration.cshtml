@model bemobile.Models.replace_sim_reg_model
@{
    ViewBag.Title = "Sim Replace Registration";
}


<div class="mid_margin">
    <div class="choose_box remov_padd wrapper">
        <section class="content-wrapper content-pan clear-fix">
            <section id="widget-grid" style="margin: 50px auto;">
                <!-- START ROW -->
                <div class="row">
                    <!-- NEW COL START -->
                    <article class="col-sm-12 col-md-12" style="float: none; margin: 5px auto; width: 95%;">
                        <!-- Widget ID (each widget will need unique ID)-->
                        <div class="jarviswidget" id="wid-id-3" data-widget-editbutton="false" data-widget-custombutton="false">
                            <header>
                                <span class="widget-icon"><i class="fa fa-user"></i></span>
                                <h2>SIM REPLACEMENT REGISTRATION FORM</h2>
                            </header>
                            <!-- widget div-->
                            <!-- widget div-->
                            <div>
                                <!-- widget edit box -->
                                <div class="jarviswidget-editbox">
                                    <!-- This area used as dropdown edit box -->
                                </div>
                                <!-- end widget edit box -->

                                <!-- widget content -->
                                <div class="widget-body no-padding">

                                    @using (Html.BeginForm("SimReplaceRegistration", "Care", FormMethod.Post, new { id = "frmSimReplaceReg", @class = "smart-form", enctype = "multipart/form-data" }))
                                    {
                                        @Html.AntiForgeryToken()
                                        @Html.ValidationSummary(true)
                                        <div style="line-height: 40px; color: #FFF; border: 0px solid #E04C02; background: linear-gradient(to bottom, #E04C02 1%, #C1181F 100%) repeat scroll 0% 0% transparent; height: 34px;">
                                            <div class="col-2" style="margin-left: 10px; float: left;">Section 1:</div>
                                            <div>Customer Details</div>
                                        </div>
                                        <div class="clear"></div>
                                        
                                        <fieldset>

                                            <div class="row">
                                                <section class="col col-2">
                                                    <b>Name:</b>
                                                </section>
                                                <section class="col col-3">
                                                    <label class="input">
                                                        @Html.TextBoxFor(m => m.cust.name, new { placeholder = "Name" })
                                                        @Html.ValidationMessageFor(m => m.cust.name)
                                                    </label>
                                                </section>
                                            </div>

                                            <div class="row">
                                                <section class="col col-2">
                                                    <b>Mobile Number:</b>
                                                </section>
                                                <section class="col col-3">
                                                    <label class="input">
                                                        @Html.TextBoxFor(m => m.cust.mobile_no, new { placeholder = "Mobile Number" })
                                                        @Html.ValidationMessageFor(m => m.cust.mobile_no)
                                                    </label>
                                                </section>
                                            </div>

                                        </fieldset>
                                        
                                        <div style="line-height: 40px; color: #FFF; border: 0px solid #E04C02; background: linear-gradient(to bottom, #E04C02 1%, #C1181F 100%) repeat scroll 0% 0% transparent; height: 34px;">
                                            <div class="col-2" style="margin-left: 10px; float: left;">Section 2:</div>
                                            <div>Customer Identification</div>
                                        </div>
                                        <div class="clear"></div>
                                        
                                        <fieldset>

                                            <section>
                                                <b>Individual    (please present one (1) of one of the following ): (tick below)</b>
                                            </section>

                                            <div class="row">
                                                <section class="col col-2">
                                                    <b>Drivers License:</b>
                                                </section>
                                                <section class="col col-1">
                                                    @Html.CheckBoxFor(model => model.cust_iden.is_drv_lic, new { @name = "identitycheckboxs" })
                                                </section>
                                                <section class="col col-3">
                                                    <label class="input">
                                                        @Html.TextBoxFor(model => model.cust_iden.drv_lic, new { placeholder = "License ID" })
                                                        <span id="is_drv_validmessage">@Html.ValidationMessageFor(m => m.cust_iden.drv_lic)</span>
                                                    </label>
                                                </section>
                                                <section class="col col-2">
                                                    <b>Student:</b>
                                                </section>
                                                <section class="col col-1">
                                                    @Html.CheckBoxFor(model => model.cust_iden.is_student_id, new { @name = "identitycheckboxs" })
                                                </section>
                                                <section class="col col-3">
                                                    <label class="input">
                                                        @Html.TextBoxFor(model => model.cust_iden.student_id, new { placeholder = "Student ID" })
                                                        <span id="is_student_validmessage">@Html.ValidationMessageFor(m => m.cust_iden.student_id)</span>
                                                    </label>
                                                </section>
                                            </div>

                                            <div class="row">
                                                <section class="col col-2">
                                                    <b>Employment/Work:</b>
                                                </section>
                                                <section class="col col-1">
                                                    @Html.CheckBoxFor(model => model.cust_iden.is_emp_id, new { @name = "identitycheckboxs" })
                                                </section>
                                                <section class="col col-3">
                                                    <label class="input">
                                                        @Html.TextBoxFor(model => model.cust_iden.emp_id, new { placeholder = "Employment/Work  ID" })
                                                        <span id="is_emp_validmessage">@Html.ValidationMessageFor(m => m.cust_iden.emp_id)</span>
                                                    </label>
                                                </section>

                                                <section class="col col-2">
                                                    <b>Nasfund:</b>
                                                </section>
                                                <section class="col col-1">
                                                    @Html.CheckBoxFor(model => model.cust_iden.is_nasfund_id, new { @name = "identitycheckboxs" })
                                                </section>
                                                <section class="col col-3">
                                                    <label class="input">
                                                        @Html.TextBoxFor(model => model.cust_iden.nasfund_id, new { placeholder = "Nasfund ID" })
                                                        <span id="is_nasfund_validmessage">@Html.ValidationMessageFor(m => m.cust_iden.nasfund_id)</span>
                                                    </label>
                                                </section>

                                            </div>

                                            <div class="row">
                                                <section class="col col-2">
                                                    <b>Nambawan Super:</b>
                                                </section>
                                                <section class="col col-1">
                                                    @Html.CheckBoxFor(model => model.cust_iden.is_nbw_super_id, new { @name = "identitycheckboxs" })
                                                </section>
                                                <section class="col col-3">
                                                    <label class="input">
                                                        @Html.TextBoxFor(model => model.cust_iden.nbw_super_id, new { placeholder = "Nambawan Super ID" })
                                                        <span id="is_nbw_validmessage">@Html.ValidationMessageFor(m => m.cust_iden.nbw_super_id)</span>
                                                    </label>
                                                </section>

                                                <section class="col col-2">
                                                    <b>Other:</b>
                                                </section>
                                                <section class="col col-1">
                                                    @Html.CheckBoxFor(model => model.cust_iden.is_other_id, new { @name = "identitycheckboxs" })
                                                </section>
                                                <section class="col col-3">
                                                    <label class="input">
                                                        @Html.TextBoxFor(model => model.cust_iden.other_id, new { placeholder = "Other ID" })
                                                        <span id="is_other_validmessage">@Html.ValidationMessageFor(m => m.cust_iden.other_id)</span>
                                                    </label>
                                                </section>

                                            </div>

                                            <section id="valid-identity-checkbox">
                                            </section>
                                        </fieldset>                                      
                                        
                                        <div style="line-height: 40px; color: #FFF; border: 0px solid #E04C02; background: linear-gradient(to bottom, #E04C02 1%, #C1181F 100%) repeat scroll 0% 0% transparent; height: 34px;">
                                            <div style="margin-left: 10px; float: left;">If unable to produce any of the above forms of Identification, please list four (4) numbers most frequently contacted.</div>
                                        </div>
                                        <div class="clear"></div>
                                        
                                        <fieldset>
                                            <div class="row">
                                                <section class="col col-2">
                                                    <label class="input">
                                                        @Html.TextBoxFor(m => m.cust_mob.cust_mobile_no1, new { placeholder = "Mobile Number 1" })
                                                        @Html.ValidationMessageFor(m => m.cust_mob.cust_mobile_no1)
                                                    </label>
                                                </section>
                                                <section class="col col-2">
                                                    <span id="1stHandsetAddSpan">
                                                        <button id="1stAddBtn" style="height: 31px; padding: 0px 22px; cursor: pointer; background-color: #010147; color: #FFF;" class="btn btn-mini top_btn" type="button">Add New</button></span>
                                                </section>
                                            </div>
                                            <div class="row" id="2ndHandSetModels">
                                                <section class="col col-2">
                                                    <label class="input">
                                                        @Html.TextBoxFor(m => m.cust_mob.cust_mobile_no2, new { placeholder = "Mobile Number 2" })
                                                        @Html.ValidationMessageFor(m => m.cust_mob.cust_mobile_no2)
                                                    </label>
                                                </section>
                                                <section class="col col-2">
                                                    <span id="2ndHandsetAddSpan">
                                                        <button id="2ndAddBtn" style="height: 31px; padding: 0px 22px; cursor: pointer; background-color: #010147; color: #FFF;" class="btn btn-mini top_btn" type="button">Add New</button></span>
                                                </section>
                                            </div>
                                            <div class="row" id="3rdHandSetModels">
                                                <section class="col col-2">
                                                    <label class="input">
                                                        @Html.TextBoxFor(m => m.cust_mob.cust_mobile_no3, new { placeholder = "Mobile Number 3" })
                                                        @Html.ValidationMessageFor(m => m.cust_mob.cust_mobile_no3)
                                                    </label>
                                                </section>
                                                <section class="col col-2">
                                                    <span id="3ndHandsetAddSpan">
                                                        <button id="3ndAddBtn" style="height: 31px; padding: 0px 22px; cursor: pointer; background-color: #010147; color: #FFF;" class="btn btn-mini top_btn" type="button">Add New</button></span>
                                                </section>
                                            </div>
                                            <div class="row" id="4thHandSetModels">
                                                <section class="col col-2">
                                                    <label class="input">
                                                        @Html.TextBoxFor(m => m.cust_mob.cust_mobile_no4, new { placeholder = "Mobile Number 4" })
                                                        @Html.ValidationMessageFor(m => m.cust_mob.cust_mobile_no4)
                                                    </label>
                                                </section>
                                            </div>
                                        </fieldset>
                                     
                                        <div style="line-height: 40px; color: #FFF; border: 0px solid #E04C02; background: linear-gradient(to bottom, #E04C02 1%, #C1181F 100%) repeat scroll 0% 0% transparent; height: 34px;">
                                            <div class="col-2" style="margin-left: 10px; float: left;">Section 3:</div>
                                            <div>Customer Acknowledgement</div>
                                        </div>
                                        <div class="clear"></div>
                                        
                                        <fieldset>
                                            <div class="row">
                                                <section class="col">
                                                    <b>By signing this form I declare that all information in this application is true and correct.</b> &nbsp;&nbsp;@Html.CheckBoxFor(m => m.cust_ack.is_original_sign, true)
                                                </section>
                                            </div>

                                            <div class="row">
                                                <section class="col col-2">
                                                    <b>Date:</b>
                                                </section>
                                                <section class="col col-2">
                                                    <label class="input">
                                                        @Html.TextBoxFor(m => m.cust_ack.cust_ack_date, "{0:dd/MM/yyyy}", new { @class = "date", placeholder = "Date" })
                                                        @Html.ValidationMessageFor(m => m.cust_ack.cust_ack_date)
                                                    </label>
                                                </section>
                                                <section class="col col-2">
                                                    <b>Signature:</b>
                                                </section>
                                                <section class="col col-2">
                                                    &nbsp;
                                                </section>
                                            </div>

                                        </fieldset>
                                        
                                        <div style="line-height: 40px; color: #FFF; border: 0px solid #E04C02; background: linear-gradient(to bottom, #E04C02 1%, #C1181F 100%) repeat scroll 0% 0% transparent; height: 34px;">
                                            <div class="col-2" style="margin-left: 10px; float: left;">Section 4:</div>
                                            <div>Retailer Use only (All boxes MUST be completed)</div>
                                        </div>
                                        <div class="clear"></div>
                                        
                                        <fieldset>
                                            <div class="row">
                                                <section class="col">
                                                    <b>I have sighted the original identification documents listed in section 2 and checked that:</b>&nbsp&nbsp; @Html.CheckBox("is_retailer_sign")
                                                </section>
                                            </div>
                                            <div class="row">
                                                <section class="col">
                                                    <b>The name on the form matches the ID shown&nbsp @Html.CheckBox("is_match_id")</b>
                                                </section>
                                            </div>
                                            <div class="row">
                                                <section class="col">
                                                    <b>The documents provided have not expired</b> &nbsp&nbsp;&nbsp;&nbsp; @Html.CheckBox("is_doc_expired")
                                                </section>
                                            </div>
                                            <div class="row">
                                                <section class="col col-2">
                                                    <b>Date:</b>
                                                </section>
                                                <section class="col col-2">
                                                    <label class="input">
                                                        @Html.TextBox("ret_modified_on", null, new { placeholder = "Modified Date", @class = "date" })
                                                    </label>
                                                </section>
                                                <section class="col col-2">

                                                    <b>Sales Person:</b>

                                                </section>
                                                <section class="col col-2">
                                                    <label class="input">
                                                        @Html.TextBox("sale_person_name", null, new { placeholder = "Name" })
                                                    </label>
                                                </section>
                                                <section class="col col-2">
                                                    <b>Signature:</b>
                                                </section>
                                            </div>

                                        </fieldset>
                                        
                                        @Html.Hidden("checkedIdentity");
                                        <footer>

                                            <button id="btnSubmit" class="btn btn-mini top_btn" type="submit" style="margin-right: 450px;">Submit</button>
                                        </footer>                                                      
                                    }
                                </div>
                                <!-- end widget content -->
                            </div>
                            <!-- end widget div -->
                        </div>
                        <!-- end widget -->
                    </article>
                    <!-- END COL -->
                </div>
                <!-- END ROW -->
            </section>
        </section>
    </div>
</div>





@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script src="@Url.Content("~/Scripts/jquery-1.7.1.min.js")" type="text/javascript"></script>
    <link href="@Url.Content("~/Content/themes/base/jquery-ui.css")" rel="stylesheet" type="text/css" />
    <script src="@Url.Content("~/Scripts/jquery-ui-1.8.20.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/MvcFoolproofValidation.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/MvcFoolproofJQueryValidation.min.js")" type="text/javascript"></script>

    @if (ViewBag.Message != null)
    { 
        <script type="text/javascript">
            $(document).ready(function () {
                $("#div_dialog").dialog({
                    title: "Message",
                    buttons: {
                        Close: function () {
                            $(this).dialog('close');
                            //window.location.href = '@Url.Action("SimRegCustomers", "Admin")';
                        }
                    },
                    width: 350,
                    dialogClass: 'dialog_css',
                    autoOpen: true,
                    closeOnEscape: false,
                    draggable: false,
                    resizable: false,
                    modal: true
                });
            });
        </script>
    }

    <script type="text/javascript">

        $(document).ready(function () {
            $(".date").datepicker({
                dateFormat: "dd/mm/yy",
                changeMonth: true,
                changeYear: true,
                yearRange: "-104:+0"
            });

            $("#is_retailer_sign").attr('disabled', true);
            $("#is_match_id").attr('disabled', true);
            $("#is_doc_expired").attr('disabled', true);
            $("#ret_modified_on").attr('disabled', true);
            $("#sale_person_name").attr('disabled', true);
            $("#2ndHandSetModels").hide();
            $("#3rdHandSetModels").hide();
            $("#4thHandSetModels").hide();

        });

        $("#1stAddBtn").click(function () {
            $("#1stHandsetAddSpan").hide();
            $("#2ndHandSetModels").show();
        });

        $("#2ndAddBtn").click(function () {
            $("#1stHandsetAddSpan").hide();
            $("#2ndHandsetAddSpan").hide();
            $("#3rdHandSetModels").show();
        });

        $("#3ndAddBtn").click(function () {
            $("#1stHandsetAddSpan").hide();
            $("#2ndHandsetAddSpan").hide();
            $("#3ndHandsetAddSpan").hide();
            $("#4thHandSetModels").show();
        });

        $('form').on('submit', function () {
            var retvalue = true;

            retvalue = CheckIdentityIDs();

            return retvalue;
        });

        $("#cust_iden_is_drv_lic,#cust_iden_is_student_id,#cust_iden_is_emp_id,#cust_iden_is_nasfund_id,#cust_iden_is_nbw_super_id,#cust_iden_is_other_id").click(function () {

            if ($(this).is(':checked') == true) {
                var count = $('#checkedIdentity').val();
                count++;
                $('#checkedIdentity').val(count)
            } else {
                var mincount = $('#checkedIdentity').val();
                mincount--;
                $('#checkedIdentity').val(mincount)

            }

            CheckIdentityIDs();
        })

        function CheckIdentityIDs() {
            var retvalue = true;

            if ($('#checkedIdentity').val() < '1') {
                //$("#cust_iden_drv_lic").css({ 'border': '1px solid #f00', 'background-color': '#fee' });
                $("#valid-identity-checkbox").text("Please tick atleast 1 appropriate boxes and write identification number").addClass("fieldvalidation");
                retvalue = false;
            } else {
                $("#valid-identity-checkbox").html('');
            }


            if ($("#cust_iden_is_drv_lic").is(":Checked") == true && $("#cust_iden_drv_lic").val() == '') {
                $("#cust_iden_drv_lic").css({ 'border': '1px solid #f00', 'background-color': '#fee' });
                $("#is_drv_validmessage").text("Driver License id is required").addClass("fieldvalidation");
                retvalue = false;
            } else {
                $("#is_drv_validmessage").html('');
                $("#cust_iden_drv_lic").removeAttr('style');
            }
            if ($("#cust_iden_is_student_id").is(":Checked") == true && $("#cust_iden_student_id").val() == '') {
                $("#cust_iden_student_id").css({ 'border': '1px solid #f00', 'background-color': '#fee' });
                $("#is_student_validmessage").text("Student id is required").addClass("fieldvalidation");
                retvalue = false;
            } else {
                $("#is_student_validmessage").html('');
                $("#cust_iden_student_id").removeAttr('style');
            }

            if ($("#cust_iden_is_emp_id").is(":Checked") == true && $("#cust_iden_emp_id").val() == '') {
                $("#cust_iden_emp_id").css({ 'border': '1px solid #f00', 'background-color': '#fee' });
                $("#is_emp_validmessage").text("Employment id is required").addClass("fieldvalidation");

                retvalue = false;
            } else {
                $("#is_emp_validmessage").html('');
                $("#cust_iden_emp_id").removeAttr('style');
            }

            if ($("#cust_iden_is_nasfund_id").is(":Checked") == true && $("#cust_iden_nasfund_id").val() == '') {
                $("#cust_iden_nasfund_id").css({ 'border': '1px solid #f00', 'background-color': '#fee' });
                $("#is_nasfund_validmessage").text("Nasfund id is required").addClass("fieldvalidation");
                retvalue = false;
            } else {
                $("#is_nasfund_validmessage").html('');
                $("#cust_iden_nasfund_id").removeAttr('style');
            }

            if ($("#cust_iden_is_nbw_super_id").is(":Checked") == true && $("#cust_iden_nbw_super_id").val() == '') {
                $("#is_nbw_validmessage").text("Nambawan super is required").addClass("fieldvalidation");
                $("#cust_iden_nbw_super_id").css({ 'border': '1px solid #f00', 'background-color': '#fee' });
                retvalue = false;
            } else {
                $("#is_nbw_validmessage").html('');
                $("#cust_iden_nbw_super_id").removeAttr('style');
            }
            if ($("#cust_iden_is_other_id").is(":Checked") == true && $("#cust_iden_other_id").val() == '') {
                $("#is_other_validmessage").text("Other id is required").addClass("fieldvalidation");
                $("#cust_iden_other_id").css({ 'border': '1px solid #f00', 'background-color': '#fee' });
                retvalue = false;
            } else {
                $("#is_other_validmessage").html('');
                $("#cust_iden_other_id").removeAttr('style');
            }

            return retvalue;
        }


    </script>
}

<style type="text/css">
    span.link {
        color: #f00;
        text-decoration: none;
    }

    span.field-validation-error {
        color: #f00;
    }

    span.link:hover {
        color: #f00;
        text-decoration: underline;
        cursor: pointer;
    }

    span {
        color: #f00;
    }

    .fieldvalidation {
        color: #f00;
        font-size: 11px;
        line-height: 15px;
        font-weight: bold;
        font-style: italic;
    }

    .ui-datepicker .ui-datepicker-prev span, .ui-datepicker .ui-datepicker-next span {
        display: block;
        position: absolute;
        left: 22%;
        margin-left: -8px;
        top: 50%;
        margin-top: -8px;
        width: 30px;
    }
</style>
