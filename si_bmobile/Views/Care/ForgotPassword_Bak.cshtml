@model si_bmobile.Models.FPModel

@{
    ViewBag.Title = "Forgot Password";
    Layout = "~/Views/Shared/bm_Layout_Care.cshtml";

}


<div class="mid_margin">
    <div class="choose_box remov_padd wrapper">


        <section class="content-wrapper content-pan clear-fix">
            <div id="loading_dialog_fullpage" style="display: none;">
                <img src="~/images/slider/301.GIF" alt="Loading.." />
                <h3>Please Wait..</h3>
            </div>
            <section id="widget-grid" style="margin: 50px auto;">
                <!-- START ROW -->
                <div class="row">

                    <!-- NEW COL START -->
                    <article class="col-sm-12 col-md-12 col-lg-8" style="float: none; margin: 5px auto; max-width: 430px;">

                        <!-- Widget ID (each widget will need unique ID)-->
                        <div class="jarviswidget" id="wid-id-3" data-widget-editbutton="false" data-widget-custombutton="false">
                            <header>
                                <span class="widget-icon"><i class="fa fa-user"></i></span>
                                <h2>Forgot Password </h2>
                            </header>
                            <!-- widget div-->
                            <div>

                                <!-- widget edit box -->
                                <div class="jarviswidget-editbox">
                                    <!-- This area used as dropdown edit box -->
                                </div>
                                <!-- end widget edit box -->

                                <!-- widget content -->
                                <div class="widget-body no-padding">
                                    @using (Html.BeginForm("ForgotPassword", "Care", FormMethod.Post, new { enctype = "multipart/form-data", id = "frmForgotPassword", @class = "smart-form", novalidate = "novalidate" }))
                                    {	    
                                        @Html.AntiForgeryToken()                            
                                        @Html.ValidationSummary(true)
@*if (ViewBag.Message != null)
                                        {
                                        <fieldset id="msg_pan">
                                            <div class="alert alert-danger fade in">
                                                <button type="button" class="close" data-dismiss="alert">
                                                    ×
                                                </button>
                                                <i class="fa-fw fa fa-warning"></i>
                                                <strong>Warning</strong> @ViewBag.Message
                                            </div>
                                        </fieldset>
                                        }*@                      
                                        <fieldset>
                                            <section>
                                                <b>E-mail:&nbsp;</b>
                                                <label for="address1" class="input">
                                                    @Html.TextBoxFor(model => model.Email, new { placeholder = "E-mail", maxlength = 50 })
                                                    @Html.ValidationMessageFor(model => model.Email)
                                                </label>
                                            </section>
                                        </fieldset>  
                                        <footer>
                                            <button id="btnSubmit" class="btn btn-mini top_btn" type="submit" style="width: 100px;">Submit</button>
                                        </footer>
                                    }
                                </div>
                                <!-- end widget content -->

                            </div>
                            <!-- end widget div -->

                        </div>
                        <!-- end widget -->
                    </article>
                    <!-- END COL -->
                </div>
                <!-- END ROW -->
            </section>
        </section>
    </div>
</div>


@* @using (Html.BeginForm("ForgotPassword", "Care", FormMethod.Post, new { id = "frmForgotPassword", enctype = "multipart/form-data" }))
 {
        @Html.AntiForgeryToken()
        @Html.ValidationSummary(true)
        <div class="DivRow">
            <div class="DivLabel">
                Email:
            </div>
            <div class="DivTxt">
                @Html.TextBoxFor(model => model.Email, null, new { @class = "Txtbox" })&nbsp;
                @Html.ValidationMessageFor(model => model.Email)
            </div>
        </div>
     
     <div class="DivRow">
            <div class="DivLabel">&nbsp;</div>
            <div class="DivTxt">
                <input type="submit" value="Submit" />
            </div>
         
        </div>}*@
<div id="div_dialog" style="display: none;">
    <p>@ViewBag.Message</p>
</div>



<style type="text/css">
    #loading_dialog_fullpage {
        color: #000;
        position: absolute;
        z-index: 1000;
        height: 220px;
        padding-left: 425px;
        padding-top: 50px;
        /*background-color: #CCC;*/
        -khtml-opacity: 0.6;
        -moz-opacity: 0.6;
        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";
        filter: alpha(opacity=80);
        opacity: .60;
        width: 990px;
    }
</style>


@if (ViewBag.Message != null)
{ 
    <script type="text/javascript">
        $("#div_dialog").dialog({
            title: "Message",
            buttons: {
                Close: function () {
                    $(this).dialog('close');
                    window.location.href = "../Care/Login";
                }
            },
            dialogClass: 'dialog_css',
            width: 300,

            closeOnEscape: false,
            draggable: false,
            resizable: false,
            modal: true
        });

    </script>
}
@section Scripts {
    @System.Web.Optimization.Scripts.Render("~/bundles/jqueryval")
    <script type="text/javascript">
        $('button.close').click(function () {
            $(this).parents('#msg_pan').fadeOut('slow');
        });

    </script>
}

<script type="text/javascript">

    $("#btnSubmit").click(function () {

        var sEmail = $('#Email').val();

        if (sEmail != null) {
            var filter = /^([\w-\.]+)@@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;

            if (filter.test(sEmail)) {
                $('#loading_dialog_fullpage').css('display', 'block');
                $("#btnSubmit").hide();
            }
        }

    });



</script>
