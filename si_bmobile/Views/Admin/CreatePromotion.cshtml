@model si_bmobile.Models.web_tbl_promotions

@{
    ViewBag.Title = "Create Promotion";
    Layout = "~/Views/Shared/bm_Layout_Admin.cshtml";
}

@using (Html.BeginForm("CreatePromotion", "Admin", FormMethod.Post, new { id = "frmCreatePromotion", enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)

    <div class="divheader">
        ADD PROMOTION
    </div>
    
    <div class="maindivlayout">

        <div>
            <div class="divlabel">
                Title<span class="mandiv">*</span>
            </div>
            <div class="divtxt">
                @Html.TextBoxFor(model => model.title, new { @class = "Txtbox" })
                @Html.ValidationMessageFor(model => model.title)
            </div>
            <div class="clear"></div>
        </div>

        <div style="padding-bottom: 10px;">
            <div class="divlabel">
                Description<span class="mandiv">*</span>
            </div>
            <div class="divtxt">
                @Html.TextAreaFor(model => model.description, new { @class = "Txtbox" })
                @Html.ValidationMessageFor(model => model.description)
            </div>
            <div class="clear"></div>
        </div>
        <div>
            <div class="divlabel">
                Image Url<span class="mandiv">*</span>
            </div>
            <div class="divtxt">
                @Html.TextAreaFor(model => model.image_url, new { @class = "Txtbox" })
                @Html.ValidationMessageFor(model => model.image_url)
            </div>
            <div class="clear"></div>
        </div>
        <div style="padding-bottom: 10px;">
            <div class="divlabel">
                Is Active
            </div>
            <div class="divtxt">
                @Html.CheckBoxFor(model => model.IsActive)
            </div>
            <div class="clear"></div>
        </div>
        <div>
            <div class="divlabel">&nbsp;</div>
            <div class="divtxt">
                <input type="submit" value="Create" />&nbsp;<input type="button" onclick="window.location.href = '@Url.Action("Promotions", "Admin")    ';" value="Cancel" />
            </div>
            <div class="clear"></div>
        </div>
        <div class="clear"></div>
    </div>
    
    <div id="div_promo_dialog" style="display: none;">
        <p>@ViewBag.Message</p>
    </div>
}



@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script src="@Url.Content("~/Scripts/jquery-1.7.1.min.js")" type="text/javascript"></script>
    <link href="@Url.Content("~/Content/themes/base/jquery-ui.css")" rel="stylesheet" type="text/css" />
    <script src="@Url.Content("~/Scripts/jquery-ui-1.8.20.min.js")" type="text/javascript"></script>

    @if (ViewBag.Message != null)
    { 
        <script type="text/javascript">
            $("#div_promo_dialog").dialog({
                title: "Message",
                buttons: {
                    Close: function () {
                        $(this).dialog('close');
                        window.location.href = '@Url.Action("Promotions", "Admin")';
                    }
                },
                width: 350,
                dialogClass: 'dialog_css',
                autoOpen: true,
                closeOnEscape: false,
                draggable: false,
                resizable: false,
                modal: true
            });

        </script>
    }
}
